<!DOCTYPE html>
<html lang="en" translate="no">
{% load static %}
<head>
    {% include 'css.html' %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    {% block meta %}
    <meta name="description" content="{% block description %}This site introduces aspects of Japanese life, culture, food, and more.{% endblock %}" />
    <meta name="robots" content="index,follow">
    <meta name="keywords" content="Japanese, japan">
    
    {% if page_obj %} 
        {% if page_obj.number == 1 %}
            <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.path }}" />
        {% else %}
            <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.get_full_path }}" />
        {% endif %}
    {% else %} 
        <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.get_full_path }}" />
    {% endif %}



    <meta property="og:title" content="{% block og_title %}Discover Japan: Culture, Food & Fun Games{% endblock %}" />
    <meta property="og:description" content="{% block og_description %}Japanese introduction site.{% endblock %}" />
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}" />

    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://res.cloudinary.com/dotekofm5/image/upload/v1761402106/thankjapan/backgrounds/jtbdzjsksgbgehuxl954.jpg" />

    <meta property="og:site_name" content="ThankJapan" />
    <meta property="og:locale" content="en_US"  />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Discover Japan: Culture, Food & Fun Games">
    <meta name="twitter:description" content="This site introduces Japanese culture, food, and language to the world.">
    <meta name="twitter:image" content="https://res.cloudinary.com/dotekofm5/image/upload/v1761402106/thankjapan/backgrounds/jtbdzjsksgbgehuxl954.jpg">
    <meta name="twitter:site" content="@thankjapan0514">

    {% endblock %}

    <title>{% block title %}{% endblock %}</title>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html, body {
        width: 100%;
        overflow-x: hidden;
    }

    body {
        font-family: 'Zen Antique', 'Shippori Mincho', 'Noto Serif JP', serif;
        background-color: #f3f4f6;
        padding-top: 100px; 
    }

    header.nav-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        min-height: 100px;
        background: rgba(0,0,0,0.9);
        backdrop-filter: blur(8px);
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 0 30px;
        z-index: 9999;
        border-bottom: 5px solid #7a7a7a;
    }

    .logo-link {
        color: white;
        text-decoration: none;
        font-weight: bold;
        font-size: 1.6rem;
        white-space: nowrap;
    }

    nav {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .auth-section {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .user-name {
        color: #ffffff !important;
        font-weight: bold;
        font-size: 0.95rem;
        white-space: nowrap;
    }

    .premium-badge {
        background: linear-gradient(45deg, #ffd700, #ffa500);
        color: #000 !important;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: bold;
    }

    .upgrade-link {
        color: #f1c40f !important;
        text-decoration: none;
        font-size: 0.85rem;
        font-weight: bold;
        border: 1px solid #f1c40f;
        padding: 2px 8px;
        border-radius: 10px;
    }

    .auth-btn {
        text-decoration: none;
        font-size: 0.85rem;
        padding: 7px 16px;
        border-radius: 20px;
        font-weight: bold;
        white-space: nowrap;
        border: 1px solid #fff;
        color: #fff;
    }

    .signup { background-color: #e67e22; border: none; }

    .sns-buttons { display: flex; gap: 10px; }
    .sns-buttons a { color: #fff; font-size: 1.2rem; text-decoration: none; }

    .dropbtn, .game-link {
        color: #eee;
        background: none;
        border: none;
        font-size: 0.95rem;
        cursor: pointer;
        text-decoration: none;
    }

    .dropdown { position: relative; }
    .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #1a1a1a;
        min-width: 160px;
        border-radius: 8px;
        z-index: 1000;
    }

    @media screen and (max-width: 768px) {
        body {
            padding-top: 280px !important;
        }

        header.nav-bar {
            flex-direction: column;
            padding: 10px 0;
            height: auto;
            min-height: 250px;
        }

        .logo, .auth-section, .sns-buttons, nav {
            width: 100%;
            justify-content: center;
            margin: 5px 0;
        }

        .auth-section {
            border-top: 1px solid #333;
            border-bottom: 1px solid #333;
            padding: 10px 0;
        }

        .main, .hero, .container, .category-container, .game-container, #game-area, [class*="main"], [class*="container"] {
            margin-left: 0 !important;
            margin-right: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
            left: 0 !important;
            position: relative !important;
            transform: none !important;
        }
    }

    .cookie-consent-banner {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgba(0,0,0,0.95);
        color: #eee;
        padding: 20px;
        z-index: 10001;
        display: none;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .cookie-consent-banner.show { display: flex; }
    .cookie-consent-btn {
        padding: 10px 20px;
        background-color: #e63946;
        color: #fff;
        border: none;
        border-radius: 5px;
        margin-top: 10px;
        cursor: pointer;
        font-weight: bold;
    }
</style>


    <script async src="https://www.googletagmanager.com/gtag/js?id={{ GA_TRACKING_ID }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '{{ GA_TRACKING_ID }}');
    </script>

    {% block jsonld %}{% endblock %}
    
</head>

<body>
<header class="nav-bar">
    <div class="logo">
        <a class="logo-link" href="{% url 'toppage' %}">Thank Japan</a>
    </div>

    <!-- SNS„Éú„Çø„É≥ -->
  <div class="sns-buttons">
    <a href="https://x.com/thankjapan0514" target="_blank"><i class="fab fa-x twitter"></i></a>
    <a href="https://www.instagram.com/thankjapan/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.facebook.com/ToruYone" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://www.tiktok.com/@thankjapan" target="_blank"><i class="fab fa-tiktok"></i></a>
    <a href="https://www.pinterest.com/yonetoru/" target="_blank"><i class="fab fa-pinterest"></i></a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.thankjapan.com" target="_blank" title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a>
  </div>



    <nav>
        <div class="auth-section">
            {% if user.is_authenticated %}
                <div class="user-info">
                    <span class="user-name">üë§ {{ user.username }}</span>
                    {% if user.profile.is_premium %}
                        <span class="premium-badge">üíé Premium</span>
                    {% else %}
                        <a href="#" class="upgrade-link">üíé Get Premium</a>
                    {% endif %}
                    <a href="{% url 'player_logout' %}" class="auth-btn logout">Logout</a>
                </div>
            {% else %}
                <div class="guest-info">
                    <span class="user-name">üë§ Guest</span> 
                    <a href="{% url 'player_login' %}" class="auth-btn login">Login</a>
                    <a href="{% url 'player_register' %}" class="auth-btn signup">Sign Up Free üöÄ</a>
                </div>
            {% endif %}
        </div>

        <div class="dropdown">
            <button class="dropbtn">Learn Japenese ‚ñæ</button>
            <div class="dropdown-content">
                <a href="{% url 'culturepage' %}">Culture</a>
                <a href="{% url 'foodpage' %}">Food</a>
                <a href="{% url 'fashionpage' %}">Fashion</a>
                <a href="{% url 'naturepage' %}">Nature</a>
                <a href="{% url 'cookpage' %}">Cuisine</a>
                <a href="{% url 'animalpage' %}">Animals</a>
                <a href="{% url 'sportspage' %}">Sports</a>
                <a href="{% url 'householditemspage' %}">HouseholdItems</a>
                <a href="{% url 'appliancespage' %}">Appliances</a>
                <a href="{% url 'buildingpage' %}">Building</a>
                <a href="{% url 'flowerpage' %}">Flowers</a>
                <a href="{% url 'workpage' %}">Work</a>
                <a href="{% url 'livepage' %}">Lifestyle</a>
            </div>
        </div>

        <a href="{% url 'game_start' %}" class="game-link">Game</a>

        <div class="lang-switch dropdown">
            <button class="dropbtn">üåéLanguage ‚ñæ</button>
            <div class="dropdown-content">
                <a href="{% url 'toppage' %}">EN</a>
                <a href="{% url 'toppageenIN' %}">EN_IN</a>
                <a href="{% url 'toppageit' %}">IT</a>
                <a href="{% url 'toppagefr' %}">FR</a>
                <a href="{% url 'toppagede' %}">DE</a>
                <a href="{% url 'toppagept' %}">PT</a>
                <a href="{% url 'toppageptBR' %}">PT_BR</a>
                <a href="{% url 'toppageja' %}">JA</a>
                <a href="{% url 'toppageesES' %}">ES</a>
                <a href="{% url 'toppageesMX' %}">ES_MX</a>
                <a href="{% url 'toppagevi' %}">VI</a>
                <a href="{% url 'toppageko' %}">KO</a>
                <a href="{% url 'toppageth' %}">TH</a>
                <a href="{% url 'toppagezhHANT' %}">ZH-HANT</a>
            </div>
        </div>
    </nav>
</header>

{% block content %}{% endblock %}

<div id="cookieConsentBanner" class="cookie-consent-banner">
    <p>This website uses cookies to improve your experience and provide personalized content. 
       By clicking "Accept All", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. You can find more details in our <a href="{% url 'privacy_policy' %}" class="cookie-policy-link">Privacy Policy</a>.
    </p>
    <div class="cookie-consent-buttons">
        <button id="acceptCookiesBtn" class="cookie-consent-btn accept-btn">Accept All Cookies</button>
        <button id="manageCookiesBtn" class="cookie-consent-btn manage-btn">Manage Preferences</button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dropdowns = document.querySelectorAll('.dropdown');

    dropdowns.forEach(dropdown => {
        const btn = dropdown.querySelector('.dropbtn');
        const content = dropdown.querySelector('.dropdown-content');

        btn.addEventListener('click', function(e) {
            e.stopPropagation(); // ‰ªñ„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„Å´ÂΩ±Èüø„Åï„Åõ„Å™„ÅÑ
            // Êó¢„Å´Èñã„ÅÑ„Å¶„ÅÑ„Åü„ÇâÈñâ„Åò„Çã
            const isOpen = content.style.display === 'block';
            document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
            content.style.display = isOpen ? 'none' : 'block';
        });
    });

    // „Éö„Éº„Ç∏„ÅÆ„Å©„Åì„Åã„ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„ÇâÈñâ„Åò„Çã
    document.addEventListener('click', function() {
        document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
    });

    // --- „ÇØ„ÉÉ„Ç≠„ÉºÂêåÊÑè„Éê„Éä„Éº„ÅÆJavaScript„Çí„Åì„Åì„Å´ËøΩÂä† ---
    const cookieBanner = document.getElementById('cookieConsentBanner');
    const acceptBtn = document.getElementById('acceptCookiesBtn');
    const manageBtn = document.getElementById('manageCookiesBtn');

    // „ÇØ„ÉÉ„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for(let i=0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    // „ÇØ„ÉÉ„Ç≠„Éº„ÇíË®≠ÂÆö
    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }

    // „Éê„Éä„Éº„ÇíË°®Á§∫„Åô„Çã„Åã„Å©„ÅÜ„Åã
    if (!getCookie('cookie_consent')) {
        setTimeout(() => { 
            cookieBanner.classList.add('show');
        }, 1000); 
    } else {
        cookieBanner.classList.remove('show'); 
    }

    // „ÄåAccept All Cookies„Äç„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ
    acceptBtn.addEventListener('click', function() {
        setCookie('cookie_consent', 'accepted', 365); 
        cookieBanner.classList.remove('show'); 
        
    });

    // „ÄåManage Preferences„Äç„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ
    manageBtn.addEventListener('click', function() {
        // „Éó„É©„Ç§„Éê„Ç∑„Éº„Éù„É™„Ç∑„Éº„ÅÆ„ÇØ„ÉÉ„Ç≠„ÉºË®≠ÂÆö„Çª„ÇØ„Ç∑„Éß„É≥„Å∏Ë™òÂ∞é
        window.location.href = "{% url 'privacy_policy' %}#cookie-settings"; 
    });
});
</script>


</body>
</html>

