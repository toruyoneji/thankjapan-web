<!DOCTYPE html>
<html lang="en" translate="no">
{% load static %}
<head>
    {% include 'css.html' %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    {% block meta %}
    <meta name="description" content="{% block description %}This site introduces aspects of Japanese life, culture, food, and more.{% endblock %}" />
    <meta name="robots" content="index,follow">
    <meta name="keywords" content="Japanese, japan">
    
    {% if page_obj %} 
        {% if page_obj.number == 1 %}
            <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.path }}" />
        {% else %}
            <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.get_full_path }}" />
        {% endif %}
    {% else %} 
        <link rel="canonical" href="{{ request.scheme }}://{{ request.get_host }}{{ request.get_full_path }}" />
    {% endif %}



    <meta property="og:title" content="{% block og_title %}Discover Japan: Culture, Food & Fun Games{% endblock %}" />
    <meta property="og:description" content="{% block og_description %}Japanese introduction site.{% endblock %}" />
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}" />

    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://res.cloudinary.com/dotekofm5/image/upload/v1761402106/thankjapan/backgrounds/jtbdzjsksgbgehuxl954.jpg" />

    <meta property="og:site_name" content="ThankJapan" />
    <meta property="og:locale" content="en_US"  />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Discover Japan: Culture, Food & Fun Games">
    <meta name="twitter:description" content="This site introduces Japanese culture, food, and language to the world.">
    <meta name="twitter:image" content="https://res.cloudinary.com/dotekofm5/image/upload/v1761402106/thankjapan/backgrounds/jtbdzjsksgbgehuxl954.jpg">
    <meta name="twitter:site" content="@thankjapan0514">

    {% endblock %}

    <title>{% block title %}{% endblock %}</title>

<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; overflow-x: hidden; }
    body {
        font-family: 'Zen Antique', 'Shippori Mincho', 'Noto Serif JP', serif;
        background-color: #f3f4f6;
        padding-top: 100px; 
        background-image: repeating-radial-gradient(circle at 50% 30%, transparent 0, transparent 10px, rgba(0,0,0,0.03) 11px, rgba(0,0,0,0.03) 12px);
    }

    header.nav-bar {
        position: fixed; top: 0; left: 0; width: 100%; min-height: 80px;
        background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(10px);
        display: flex; align-items: center; justify-content: space-between;
        padding: 10px 30px; z-index: 9999; border-bottom: 4px solid #7a7a7a;
    }
    .logo-link { color: white; text-decoration: none; font-weight: bold; font-size: 1.6rem; white-space: nowrap; }
    .sns-buttons { display: flex; gap: 10px; }
    .sns-buttons a { color: #fff; font-size: 1.1rem; text-decoration: none; }
    nav { display: flex; align-items: center; gap: 15px; flex-wrap: wrap; }

    .auth-section { display: flex; align-items: center; gap: 10px; }
    .user-info, .guest-info { display: flex; align-items: center; gap: 10px; }
    .user-name { color: #ffffff !important; font-weight: bold; font-size: 0.9rem; white-space: nowrap; text-shadow: 1px 1px 2px #000; }
    .premium-badge { background: linear-gradient(45deg, #ffd700, #ffa500); color: #000 !important; padding: 2px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold; }
    .upgrade-link { color: #f1c40f !important; text-decoration: none; font-size: 0.8rem; font-weight: bold; border: 1px solid #f1c40f; padding: 2px 8px; border-radius: 10px; }
    .auth-btn { text-decoration: none; font-size: 0.8rem; padding: 6px 14px; border-radius: 20px; font-weight: bold; border: 1px solid #fff; color: #fff !important; white-space: nowrap; transition: 0.3s; }
    .signup { background-color: #e67e22; border: none; }

    .dropbtn, .game-link { color: #eee; background: none; border: none; font-size: 0.9rem; cursor: pointer; text-decoration: none; }
    .dropdown { position: relative; }
    .dropdown-content { display: none; position: absolute; top: 100%; left: 0; background-color: #1a1a1a; min-width: 160px; border-radius: 8px; z-index: 1000; }
    .dropdown-content a { color: #eee; padding: 10px 15px; display: block; text-decoration: none; font-size: 0.8rem; }

    .hero {
        margin-top: 0 !important; width: 100%; height: 750px; 
        display: flex; flex-direction: column; justify-content: center; align-items: center;
        background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.3)), url("https://res.cloudinary.com/dotekofm5/image/upload/v1761402106/thankjapan/backgrounds/jtbdzjsksgbgehuxl954.jpg");
        background-position: center 30%; background-size: cover; color: #fff; text-align: center;
        mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
        -webkit-mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
    }
    .hero h1 { font-size: 3.5rem; letter-spacing: 8px; text-shadow: 0 2px 20px rgba(0,0,0,0.8); }
    .hero p { font-size: 1.2rem; background: rgba(0,0,0,0.5); padding: 10px 30px; border-radius: 50px; margin: 20px 0; }

    .explore-btn {
        background: linear-gradient(135deg, #fff1b8, #ffd700, #e6b800, #d4af37);
        color: #000; padding: 18px 80px; border-radius: 50px; font-weight: 700; font-size: 1.3rem;
        letter-spacing: 2px; text-decoration: none; display: inline-block; box-shadow: 0 6px 18px rgba(212, 175, 55, 0.6);
    }
    .play-game-button { background: #556b2f; color: #fff; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; display: inline-block; }

    footer { background: #1f1f1f; text-align: center; padding: 60px 20px; font-size: 0.85rem; color: #777; }
    .footer-links a { color: #777; text-decoration: none; margin: 0 10px; }

    @media screen and (max-width: 1024px) {
        body { padding-top: 160px !important; }
        header.nav-bar { flex-direction: column; padding: 10px; gap: 8px; }
        .logo, .auth-section, .sns-buttons, nav { width: 100%; justify-content: center; margin: 0; }
        .auth-section { order: -1; padding-bottom: 5px; border-bottom: 1px solid #333; }
        .main, .hero, .container, .category-container, .game-container, #game-area, [class*="main"], [class*="container"] {
            margin-left: 0 !important; margin-right: 0 !important; width: 100% !important; max-width: 100% !important; left: 0 !important;
        }
    }

    @media screen and (max-width: 480px) {
        body { padding-top: 200px !important; }
        .hero { height: auto; min-height: 400px; padding: 40px 15px; }
        .hero h1 { font-size: 1.8rem; letter-spacing: 3px; }
        .explore-btn { width: 85%; padding: 15px 20px; font-size: 1.1rem; }
    }

    .cookie-consent-banner {
        position: fixed; bottom: 0; left: 0; width: 100%; background-color: rgba(0,0,0,0.95);
        color: #eee; padding: 15px; z-index: 10001; display: none; flex-direction: column; align-items: center;
    }
    .cookie-consent-banner.show { display: flex; }
    .cookie-consent-btn { padding: 8px 20px; background: #e63946; color: #fff; border: none; border-radius: 5px; margin-top: 10px; cursor: pointer; font-size: 0.8rem; font-weight: bold; }
</style>

    <script async src="https://www.googletagmanager.com/gtag/js?id={{ GA_TRACKING_ID }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '{{ GA_TRACKING_ID }}');
    </script>

    {% block jsonld %}{% endblock %}
    
</head>

<body>
<header class="nav-bar">
    <div class="logo">
        <a class="logo-link" href="{% url 'toppage' %}">Thank Japan</a>
    </div>

    <!-- SNS„Éú„Çø„É≥ -->
  <div class="sns-buttons">
    <a href="https://x.com/thankjapan0514" target="_blank"><i class="fab fa-x twitter"></i></a>
    <a href="https://www.instagram.com/thankjapan/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.facebook.com/ToruYone" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://www.tiktok.com/@thankjapan" target="_blank"><i class="fab fa-tiktok"></i></a>
    <a href="https://www.pinterest.com/yonetoru/" target="_blank"><i class="fab fa-pinterest"></i></a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.thankjapan.com" target="_blank" title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a>
  </div>



    <nav>
        <div class="auth-section">
            {% if user.is_authenticated %}
                <div class="user-info">
                    <span class="user-name">üë§ {{ user.username }}</span>
                    {% if user.profile.is_premium %}
                        <span class="premium-badge">üíé Premium</span>
                    {% else %}
                        <a href="#" class="upgrade-link">üíé Get Premium</a>
                    {% endif %}
                    <a href="{% url 'player_logout' %}" class="auth-btn logout">Logout</a>
                </div>
            {% else %}
                <div class="guest-info">
                    <span class="user-name">üë§ Guest</span> 
                    <a href="{% url 'player_login' %}" class="auth-btn login">Login</a>
                    <a href="{% url 'player_register' %}" class="auth-btn signup">Sign Up Free üöÄ</a>
                </div>
            {% endif %}
        </div>

        <div class="dropdown">
            <button class="dropbtn">Learn Japenese ‚ñæ</button>
            <div class="dropdown-content">
                <a href="{% url 'culturepage' %}">Culture</a>
                <a href="{% url 'foodpage' %}">Food</a>
                <a href="{% url 'fashionpage' %}">Fashion</a>
                <a href="{% url 'naturepage' %}">Nature</a>
                <a href="{% url 'cookpage' %}">Cuisine</a>
                <a href="{% url 'animalpage' %}">Animals</a>
                <a href="{% url 'sportspage' %}">Sports</a>
                <a href="{% url 'householditemspage' %}">HouseholdItems</a>
                <a href="{% url 'appliancespage' %}">Appliances</a>
                <a href="{% url 'buildingpage' %}">Building</a>
                <a href="{% url 'flowerpage' %}">Flowers</a>
                <a href="{% url 'workpage' %}">Work</a>
                <a href="{% url 'livepage' %}">Lifestyle</a>
            </div>
        </div>

        <a href="{% url 'game_start' %}" class="game-link">Game</a>

        <div class="lang-switch dropdown">
            <button class="dropbtn">üåéLanguage ‚ñæ</button>
            <div class="dropdown-content">
                <a href="{% url 'toppage' %}">EN</a>
                <a href="{% url 'toppageenIN' %}">EN_IN</a>
                <a href="{% url 'toppageit' %}">IT</a>
                <a href="{% url 'toppagefr' %}">FR</a>
                <a href="{% url 'toppagede' %}">DE</a>
                <a href="{% url 'toppagept' %}">PT</a>
                <a href="{% url 'toppageptBR' %}">PT_BR</a>
                <a href="{% url 'toppageja' %}">JA</a>
                <a href="{% url 'toppageesES' %}">ES</a>
                <a href="{% url 'toppageesMX' %}">ES_MX</a>
                <a href="{% url 'toppagevi' %}">VI</a>
                <a href="{% url 'toppageko' %}">KO</a>
                <a href="{% url 'toppageth' %}">TH</a>
                <a href="{% url 'toppagezhHANT' %}">ZH-HANT</a>
            </div>
        </div>
    </nav>
</header>

{% block content %}{% endblock %}

<div id="cookieConsentBanner" class="cookie-consent-banner">
    <p>This website uses cookies to improve your experience and provide personalized content. 
       By clicking "Accept All", you agree to the storing of cookies on your device to enhance site navigation, analyze site usage, and assist in our marketing efforts. You can find more details in our <a href="{% url 'privacy_policy' %}" class="cookie-policy-link">Privacy Policy</a>.
    </p>
    <div class="cookie-consent-buttons">
        <button id="acceptCookiesBtn" class="cookie-consent-btn accept-btn">Accept All Cookies</button>
        <button id="manageCookiesBtn" class="cookie-consent-btn manage-btn">Manage Preferences</button>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dropdowns = document.querySelectorAll('.dropdown');

    dropdowns.forEach(dropdown => {
        const btn = dropdown.querySelector('.dropbtn');
        const content = dropdown.querySelector('.dropdown-content');

        btn.addEventListener('click', function(e) {
            e.stopPropagation(); // ‰ªñ„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà„Å´ÂΩ±Èüø„Åï„Åõ„Å™„ÅÑ
            // Êó¢„Å´Èñã„ÅÑ„Å¶„ÅÑ„Åü„ÇâÈñâ„Åò„Çã
            const isOpen = content.style.display === 'block';
            document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
            content.style.display = isOpen ? 'none' : 'block';
        });
    });

    // „Éö„Éº„Ç∏„ÅÆ„Å©„Åì„Åã„ÇØ„É™„ÉÉ„ÇØ„Åó„Åü„ÇâÈñâ„Åò„Çã
    document.addEventListener('click', function() {
        document.querySelectorAll('.dropdown-content').forEach(dc => dc.style.display = 'none');
    });

    // --- „ÇØ„ÉÉ„Ç≠„ÉºÂêåÊÑè„Éê„Éä„Éº„ÅÆJavaScript„Çí„Åì„Åì„Å´ËøΩÂä† ---
    const cookieBanner = document.getElementById('cookieConsentBanner');
    const acceptBtn = document.getElementById('acceptCookiesBtn');
    const manageBtn = document.getElementById('manageCookiesBtn');

    // „ÇØ„ÉÉ„Ç≠„Éº„ÅåÂ≠òÂú®„Åô„Çã„Åã„ÉÅ„Çß„ÉÉ„ÇØ
    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for(let i=0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    // „ÇØ„ÉÉ„Ç≠„Éº„ÇíË®≠ÂÆö
    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }

    // „Éê„Éä„Éº„ÇíË°®Á§∫„Åô„Çã„Åã„Å©„ÅÜ„Åã
    if (!getCookie('cookie_consent')) {
        setTimeout(() => { 
            cookieBanner.classList.add('show');
        }, 1000); 
    } else {
        cookieBanner.classList.remove('show'); 
    }

    // „ÄåAccept All Cookies„Äç„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ
    acceptBtn.addEventListener('click', function() {
        setCookie('cookie_consent', 'accepted', 365); 
        cookieBanner.classList.remove('show'); 
        
    });

    // „ÄåManage Preferences„Äç„Éú„Çø„É≥„Åå„ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ
    manageBtn.addEventListener('click', function() {
        
        window.location.href = "{% url 'privacy_policy' %}#cookie-settings"; 
    });
});
</script>


</body>
</html>

