{% load static %}
<style>
    .category-container {
        max-width: 100%;
        margin: 0 auto;
        padding-top: 160px;
        padding-bottom: 60px;
        padding-left: 20px;
        padding-right: 20px;
        text-align: center;
        min-height: 100vh;
        background-color: #e6dcb8;
        background-image: 
            repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 0, 0, 0.05) 2px,
                rgba(0, 0, 0, 0.05) 4px
            );
        border-left: 15px solid #2f4f4f;
        border-right: 15px solid #2f4f4f;
    }

    .category-header h1 {
        color: #3e2723;
        font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
        font-size: 2.5rem;
        margin-bottom: 10px;
        letter-spacing: 2px;
        text-shadow: 1px 1px 0px rgba(255,255,255,0.8);
    }

    .category-header p {
        color: #5d4037;
        margin-bottom: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        letter-spacing: 1px;
    }

    .category-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 25px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .cat-card {
        background-color: #fffbf0;
        border: 4px solid #6d4c41; 
        border-radius: 4px;
        padding: 20px 5px;
        text-decoration: none;
        color: #3e2723;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        position: relative;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        min-height: 160px;
    }

    .cat-card::before {
        content: "";
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: 
            linear-gradient(#eaddcf 1px, transparent 1px),
            linear-gradient(90deg, #eaddcf 1px, transparent 1px);
        background-size: 25px 25px;
        opacity: 0.4;
        pointer-events: none;
    }

    .cat-card:hover {
        transform: translateY(-5px);
        background-color: #fff;
        border-color: #8d6e63;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
    }

    .cat-icon {
        font-size: 3rem;
        margin-bottom: 10px;
        margin-top: 15px;
        color: #2b1b17;
        z-index: 2;
        filter: drop-shadow(0 0 2px rgba(255,255,255,0.8));
    }

    .cat-name {
        font-size: 1.1rem;
        font-weight: 700;
        letter-spacing: 0.5px;
        color: #3e2723;
        z-index: 2;
        width: 100%;
        line-height: 1.2;
        word-wrap: break-word;
        overflow-wrap: break-word;
        hyphens: auto;
    }


    /* „Éó„É¨„Éü„Ç¢„É†„Ç´„Éº„Éâ„ÅÆÂü∫Êú¨„Çπ„Çø„Ç§„É´ */
    .cat-premium-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-decoration: none;
        border-radius: 8px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        background: linear-gradient(135deg, #fffcf0 0%, #fff9e6 50%, #f7e48e 100%) !important;
        border: 3px solid #d4af37 !important;
        box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
    }

    .premium-label {
        position: absolute;
        top: 5px;
        right: -20px;
        background: #b22d35;
        color: white;
        font-size: 0.6rem;
        font-weight: bold;
        padding: 2px 25px;
        transform: rotate(45deg);
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .cat-premium-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(212, 175, 55, 0.5);
        border-color: #f1c40f !important;
        filter: brightness(1.05);
    }

    .cat-premium-card .cat-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }

    .cat-premium-card .cat-name {
        color: #4a3b2a;
        font-weight: bold;
        font-size: 1rem;
        font-family: 'Zen Antique', serif;
    }
    
    .premium-locked {
        position: relative;
        background: linear-gradient(145deg, #fff5e6, #ffdfba) !important; 
        opacity: 0.9;
    }      

    
    .lock-badge {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 3px;
    }


    .premium-locked:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(255, 165, 0, 0.3);
    }


    .btn-more {
        display: inline-block;
        background: #ffb347;
        color: white;
        padding: 10px 24px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        margin-top: 20px;
        transition: background 0.3s;
    }
    
    .btn-more:hover {
        background: #ff9642;
    }


    @media (max-width: 600px) {
        .category-container {
            padding-top: 50px !important;
            border-left: 8px solid #2f4f4f;
            border-right: 8px solid #2f4f4f;
        }
        .category-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .cat-card {
            min-height: 140px;
        }
        .cat-icon {
            font-size: 2.5rem;
        }
        .cat-name {
            font-size: 0.9rem;
        }
    }
</style>

<div class="category-container">
    <div class="category-header">
        <h1>Start Learning üìö</h1>
        <p>Choose a topic to master Japanese vocabulary!</p>
    </div>

    <div class="category-grid">
        
        <a href="{% url 'culturepage' %}" class="cat-card">
            <span class="cat-icon">‚õ©Ô∏è</span>
            <span class="cat-name">Culture</span>
        </a>

        
        <a href="{% url 'foodpage' %}" class="cat-card">
            <span class="cat-icon">üç£</span>
            <span class="cat-name">Food</span>
        </a>

        
        <a href="{% url 'cookpage' %}" class="cat-card">
            <span class="cat-icon">üç≥</span>
            <span class="cat-name">Cuisine</span>
        </a>

        
        <a href="{% url 'fashionpage' %}" class="cat-card">
            <span class="cat-icon">üëò</span>
            <span class="cat-name">Fashion</span>
        </a>

        
        <a href="{% url 'naturepage' %}" class="cat-card">
            <span class="cat-icon">üóª</span>
            <span class="cat-name">Nature</span>
        </a>

        
        <a href="{% url 'animalpage' %}" class="cat-card">
            <span class="cat-icon">üêï</span>
            <span class="cat-name">Animals</span>
        </a>

        
        <a href="{% url 'sportspage' %}" class="cat-card">
            <span class="cat-icon">ü•ã</span>
            <span class="cat-name">Sports</span>
        </a>

        <a href="{% url 'householditemspage' %}" class="cat-card">
            <span class="cat-icon">ü™ë</span>
            <span class="cat-name">Items</span>
        </a>

        <a href="{% url 'appliancespage' %}" class="cat-card">
            <span class="cat-icon">üì∫</span>
            <span class="cat-name">Appliances</span>
        </a>

        <a href="{% url 'buildingpage' %}" class="cat-card">
            <span class="cat-icon">üèØ</span>
            <span class="cat-name">Building</span>
        </a>

        <a href="{% url 'flowerpage' %}" class="cat-card">
            <span class="cat-icon">üå∏</span>
            <span class="cat-name">Flowers</span>
        </a>

        <a href="{% url 'workpage' %}" class="cat-card">
            <span class="cat-icon">üíº</span>
            <span class="cat-name">Work</span>
        </a>

        <a href="{% url 'livepage' %}" class="cat-card">
            <span class="cat-icon">üçµ</span>
            <span class="cat-name">Lifestyle</span>
        </a>

        <a href="{% url 'dailyconversation' %}" class="cat-premium-card">
            <div class="premium-label">Special</div>
            <span class="cat-icon">üí¨</span>
            <span class="cat-name">Conversation</span>
        </a>

        <!-- Business Japanese (Premium) -->
        {% if user.is_authenticated and user.profile.is_premium %}
        <a href="{% url 'businessjapanese'%}" class="cat-premium-card">
        {% else %}
            <a href="{% url 'premium_info' %}" class="cat-card premium-locked">
        {% endif %}
            <div class="premium-label">Special</div>
            <span class="cat-icon">üíº</span>
            <span class="cat-name">Business Japanese</span>
            {% if not user.profile.is_premium %}
                <div class="lock-badge">üîí Premium</div>
            {% endif %}
        </a>

        <!-- Practical Living (Premium) -->
        {% if user.is_authenticated and user.profile.is_premium %}
        <a href="{% url 'living_in_japan_page'%}" class="cat-premium-card">
        {% else %}
            <a href="{% url 'premium_info' %}" class="cat-card premium-locked">
        {% endif %}
            <div class="premium-label">Special</div>
            <span class="cat-icon">üè†</span>
            <span class="cat-name">Practical Living</span>
            {% if not user.profile.is_premium %}
                <div class="lock-badge">üîí Premium</div>
            {% endif %}
        </a>
        
        
    </div>

    <div style="text-align:center; margin:50px 0;">
        <a class="btn-more" href="javascript:void(0);" onclick="goToTopPage()">‚Üê Back to Home</a>
    </div>

</div>

<script>
    
localStorage.setItem('tj_category_menu_url', window.location.href);

function goToTopPage() {
    const topUrl = localStorage.getItem('tj_top_url');
    if (topUrl) {
        
        window.location.href = topUrl;
    } else {
    
        window.location.href = "{% url 'toppage' %}";
    }
}

</script>
