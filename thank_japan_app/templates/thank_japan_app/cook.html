{% extends 'base/basecategory.html' %}
{% block title %}Traditional Japanese Dishes & Cooking Guide | Authentic Cuisine of Japan | ThankJapan{% endblock %}

{% block og_title %}Japanese Cooking - Learn How to Cook Japanese Dishes | ThankJapan{% endblock %}
{% block og_description %}Find recipes and cooking tips for authentic Japanese cuisine. Cook dishes like miso soup, curry rice, and more.{% endblock %}
{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}
{% block description %}Find recipes and cooking tips for authentic Japanese cuisine. Cook dishes like miso soup, curry rice, and more.{% endblock %}

{% block content %}

    {% load static %}

    <script>
        window.shareText = "Learn Japanese Cooking with ThankJapan!";
    </script>


<style>
body {
    background-color: #fffaf5;
    font-family: 'Noto Sans JP', 'Poppins', sans-serif;
    color: #333;
}

.category-header {
    text-align: center;
    padding: 60px 20px 40px;
    background: linear-gradient(135deg, #ffe8d6 0%, #fffaf5 100%);
    border-radius: 0 0 40px 40px;
    margin-top: 10px; /* 上余白なし */
}
.category-header h1 {
    font-size: 3.0rem;
    font-family: 'Sawarabi Mincho', serif;
    color: #d46a00;
    letter-spacing: 1px;
}
.category-header p {
    color: #666;
    font-size: 1.1rem;
    margin-top: 10px;
}

.main2 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    padding: 50px 6%;
    max-width: 1200px;
    margin: 0 auto;
}

.food-card {
    background-color: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    overflow: hidden;
    text-align: center;
    transition: all 0.3s ease;
    border: 2px solid #ffe0b2;
}
.food-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}
.food-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-bottom: 2px solid #ffd6a5;
    transition: transform 0.3s ease;
}
.food-card:hover img {
    transform: scale(1.04);
}
.food-card h3 {
    margin: 12px 0;
    font-size: 1rem;
    font-weight: 600;
    color: #444;
}

.no-image {
    width: 100%;
    height: 180px;
    background-color: #ffe8d6;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #d46a00;
    font-weight: 600;
}

.btn-more {
    display: inline-block;
    background: #ffb347;
    color: white;
    padding: 10px 24px;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    margin-top: 20px;
    transition: background 0.3s;
}
.btn-more:hover {
    background: #ff9642;
}

.pagination-container {
  overflow-x: auto;       /* 横スクロール許可 */
  padding: 15px 0;
  -webkit-overflow-scrolling: touch; /* iOSスムーズスクロール */
}

.pagination {
  display: flex;
  gap: 10px;
  min-width: max-content; 
  justify-content: center; 
}

.page-btn {
  flex: 0 0 auto;         
  padding: 8px 14px;
  border-radius: 12px;
  border: 1px solid #ccc;
  background-color: #f8f8f8;
  color: #333;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  white-space: nowrap;
}

.page-btn:hover {
  background-color: #e63946;
  color: #fff;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.page-btn.current {
  background-color: #e63946;
  color: #fff;
  font-weight: bold;
  border-color: #e63946;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}


/* メディアクエリ */
@media (max-width: 1200px) {
    .main2 { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 900px) {
    .main2 { grid-template-columns: repeat(2, 1fr); gap: 16px; padding: 20px 4%; }
    .category-header { padding-top: 150px; }
    .category-header h1 { font-size: 2.0rem;}
    .food-card img { height: 140px; }
    .food-card h3 { font-size: 0.9rem; }
}
@media (max-width: 600px) {
    .main2 { grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 20px 4%; }
    .category-header { padding-top: 150px; }
    .category-header h1 { font-size: 2.0rem;}
    .food-card img { height: 120px; }
    .food-card h3 { font-size: 0.8rem; }
}

</style>

<div class="category-header">
    <h1>Japanese Food & Dishes: Vocabulary & Romaji Guide</h1>
    <p>Learn how to prepare Japanese dishes at home using traditional ingredients and easy-to-follow steps.</p>   
</div>

<div class="main2">
    
    {% for item in object_list %}
        <div class="food-card">
            {% if item.image %}
                <a href="{% url 'category_detail' item.category item.slug %}">
                    <img src="{{ item.image.url }}" alt="{{ item.englishname }}">
                </a>
            {% else %}
                <div class="no-image">No image available</div>
            {% endif %}
            <h3>{{ item.englishname }}</h3>
        </div>
    {% endfor %}
</div>

<div class="pagination-container">
  <div class="pagination">
    {% if page_obj.has_previous %}
      <a href="?page=1" class="page-btn">&laquo;</a>
      <a href="?page={{ page_obj.previous_page_number }}" class="page-btn">Prev</a>
    {% endif %}

    {% for num in page_obj.paginator.page_range %}
      {% if page_obj.number == num %}
        <span class="page-btn current">{{ num }}</span>
      {% elif num > page_obj.number|add:-3 and num < page_obj.number|add:3 %}
        <a href="?page={{ num }}" class="page-btn">{{ num }}</a>
      {% endif %}
    {% endfor %}

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}" class="page-btn">Next</a>
      <a href="?page={{ page_obj.paginator.num_pages }}" class="page-btn">&raquo;</a>
    {% endif %}
  </div>
</div>


<div style="text-align:center; margin:50px 0;">
    <a class="btn-more" href="javascript:void(0);" onclick="goToCategoryList()">← Back</a>
</div>

{% endblock %}
