{% extends 'base/base.html' %}
{% block content %}
<div style="max-width: 500px; margin: 150px auto; padding: 40px; background: white; border: 2px solid #5d5245; border-radius: 12px; text-align: center;">
    
    <h2 style="color: #b22d35; font-family: 'Zen Antique', serif;">
        {% if lang_code == 'ja' %}新しいパスワードを設定
        {% elif lang_code == 'zh-hant' %}設定新密碼
        {% elif lang_code == 'zh-cn' %}设置新密码
        {% elif lang_code == 'ko' %}새 비밀번호 설정
        {% elif lang_code == 'de' %}Neues Passwort festlegen
        {% elif lang_code == 'fr' %}Définir un nouveau mot de passe
        {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}Establecer nueva contraseña
        {% elif lang_code == 'it' %}Imposta nuova password
        {% elif lang_code == 'pt' or lang_code == 'pt-br' %}Definir nova senha
        {% elif lang_code == 'vi' %}Đặt mật khẩu mới
        {% elif lang_code == 'th' %}ตั้งรหัสผ่านใหม่
        {% elif lang_code == 'en-in' %}Set New Password
        {% else %}Set New Password
        {% endif %}
    </h2>

    <form method="post" style="margin-top: 25px; text-align: left;">
        {% csrf_token %}

        {% for field in form %}
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #333;">
                    {% if "confirmation" in field.label.lower %}
                    
                        {% if lang_code == 'ja' %}新しいパスワード（確認用）
                        {% elif lang_code == 'zh-hant' %}確認新密碼
                        {% elif lang_code == 'zh-cn' %}确认新密码
                        {% elif lang_code == 'ko' %}새 비밀번호 확인
                        {% elif lang_code == 'de' %}Neues Passwort bestätigen
                        {% elif lang_code == 'fr' %}Confirmez le nouveau mot de passe
                        {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}Confirmar nueva contraseña
                        {% elif lang_code == 'it' %}Conferma nuova password
                        {% elif lang_code == 'pt' or lang_code == 'pt-br' %}Confirmar nova senha
                        {% elif lang_code == 'vi' %}Xác nhận mật khẩu mới
                        {% elif lang_code == 'th' %}ยืนยันรหัสผ่านใหม่
                        {% else %}Confirm New Password{% endif %}
                    {% else %}
                        
                        {% if lang_code == 'ja' %}新しいパスワード
                        {% elif lang_code == 'zh-hant' %}新密碼
                        {% elif lang_code == 'zh-cn' %}新密码
                        {% elif lang_code == 'ko' %}새 비밀번호
                        {% elif lang_code == 'de' %}Neues Passwort
                        {% elif lang_code == 'fr' %}Nouveau mot de passe
                        {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}Nueva contraseña
                        {% elif lang_code == 'it' %}Nuova password
                        {% elif lang_code == 'pt' or lang_code == 'pt-br' %}Nova senha
                        {% elif lang_code == 'vi' %}Mật khẩu mới
                        {% elif lang_code == 'th' %}รหัสผ่านใหม่
                        {% else %}New Password{% endif %}
                    {% endif %}
                </label>

                <input type="{{ field.field.widget.input_type }}" 
                       name="{{ field.name }}" 
                       id="{{ field.id_for_label }}"
                       required 
                       style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box;">
                
                
                {% if field.help_text %}
                    <small style="display: block; color: #666; margin-top: 5px; font-size: 0.85em; line-height: 1.4;">
                        {% if "8 characters" in field.help_text %}
                            {% if lang_code == 'ja' %}パスワードは8文字以上にしてください。
                            {% elif lang_code == 'zh-hant' %}密碼長度必須至少為 8 個字元。
                            {% elif lang_code == 'zh-cn' %}密码长度必须至少为 8 个字符。
                            {% elif lang_code == 'ko' %}비밀번호는 8자 이상이어야 합니다.
                            {% elif lang_code == 'de' %}Das Passwort muss mindestens 8 Zeichen lang sein.
                            {% elif lang_code == 'fr' %}Le mot de passe doit contenir au moins 8 caractères.
                            {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}La contraseña debe tener al menos 8 caracteres.
                            {% elif lang_code == 'it' %}La password deve essere lunga almeno 8 caratteri.
                            {% elif lang_code == 'pt' or lang_code == 'pt-br' %}A senha deve ter pelo menos 8 caracteres.
                            {% elif lang_code == 'vi' %}Mật khẩu phải có ít nhất 8 ký tự.
                            {% elif lang_code == 'th' %}รหัสผ่านต้องมีความยาวอย่างน้อย 8 ตัวอักษร
                            {% else %}Password must be at least 8 characters long.{% endif %}
                        {% else %}
                            {{ field.help_text }}
                        {% endif %}
                    </small>
                {% endif %}

                
                {% for error in field.errors %}
                    <div style="color: #d93025; font-size: 0.85em; margin-top: 5px;">
                    {% if "mismatch" in error or "matching" in error %}
                        {% if lang_code == 'ja' %}パスワードが一致しません。
                        {% elif lang_code == 'zh-hant' %}密碼不符。
                        {% elif lang_code == 'zh-cn' %}密码不匹配。
                        {% elif lang_code == 'ko' %}비밀번호가 일치하지 않습니다.
                        {% elif lang_code == 'de' %}Die Passwörter stimmen nicht überein.
                        {% elif lang_code == 'fr' %}Les mots de passe ne correspondent pas.
                        {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}Las contraseñas no coinciden.
                        {% elif lang_code == 'it' %}Le password non corrispondono.
                        {% elif lang_code == 'pt' %}As palavras-passe não coincidem.
                        {% elif lang_code == 'pt-br' %}As senhas não coincidem.
                        {% elif lang_code == 'vi' %}Mật khẩu không khớp.
                        {% elif lang_code == 'th' %}รหัสผ่านไม่ตรงกัน
                        {% elif lang_code == 'en-in' %}Passwords do not match.
                        {% else %}Passwords do not match.
                        {% endif %}
                    {% else %}
                        {{ error }}
                    {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% endfor %}

        
        <button type="submit" class="btn-more" style="width: 100%; border: none; cursor: pointer; padding: 15px; font-weight: bold;">
            {% if lang_code == 'ja' %}パスワードを更新
            {% elif lang_code == 'zh-hant' %}更新密碼
            {% elif lang_code == 'zh-cn' %}更新密码
            {% elif lang_code == 'ko' %}비밀번호 변경
            {% elif lang_code == 'de' %}Passwort aktualisieren
            {% elif lang_code == 'fr' %}Mettre à jour le mot de passe
            {% elif lang_code == 'es-es' or lang_code == 'es-mx' %}Actualizar contraseña
            {% elif lang_code == 'it' %}Aggiorna password
            {% elif lang_code == 'pt' or lang_code == 'pt-br' %}Atualizar senha
            {% elif lang_code == 'vi' %}Cập nhật mật khẩu
            {% elif lang_code == 'th' %}อัปเดตรหัสผ่าน
            {% else %}Update Password
            {% endif %}
        </button>
    </form>
</div>
{% endblock %}