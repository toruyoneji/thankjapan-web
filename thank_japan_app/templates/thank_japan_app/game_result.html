{% extends 'base.html' %}
{% block title %}Game Result & Ranking | ThankJapan{% endblock %}

{% block content %}

<div class="main2">

<h2>Game Result</h2>
<p style="font-size: 1.8rem;">Player: {{ player.username }} ({{ player.country }})</p>
<p style="font-size: 1.8rem;">Your score: {{ score }}</p>

<div style="margin-top: 30px;">
    <a href="{% url 'game_restart' %}">
        <button style="padding: 10px 20px; font-size: 1.2rem;">ğŸ” Play Again</button>
    </a>
</div>

<div style="margin-top: 20px;">
    <a href="{% url 'logout_player' %}">
        <button style="padding: 10px 20px; font-size: 1.1rem;">ğŸšª Logout</button>
    </a>
</div>

<form method="post" action="{% url 'delete_player' %}" onsubmit="return confirm('Are you sure you want to delete your account?');">
    {% csrf_token %}
    <button type="submit" style="background-color: red; color: white; padding: 8px 16px;">
        ğŸ—‘ï¸ Delete My Account
    </button>
</form>

<hr>
<h3 style="text-align: center;">ğŸ† Top 20 Players</h3>
<hr>
<p style="text-align: center; font-size: 1.9rem;">username - point - countryname</p>
<hr>
<ul style="list-style: none; padding: 0;">
  {% for r in ranking %}
    <li style="text-align: center; border-bottom: 1px solid #ccc; padding: 10px 0; font-size: 1.7rem;">
      <strong>{{ forloop.counter }}.</strong> {{ r.username }} - {{ r.total_score }}pts - {{ r.country }}
    </li>
  {% empty %}
    <li>No scores yet.</li>
  {% endfor %}
</ul>

</div>
{% endblock %}
